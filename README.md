# IRのための業務システム・メタ情報管理ツール

## はじめに

このシステム設定ドキュメントは、IRを進めるために必要な業務システムのデータを効率的に収集し、DWを円滑に構築することを目的とした文書です。

## 訪問調査で分かったこと
IR室を設置した4大学に訪問調査を行い、IR室の学内業務システムへの関わり方についてインタビューした（2019年〜20年）。以下のことが分かった。
* 調査した大学で、運用している学内業務システムは、ベンダーがパッケージソフトに一部カスタマイズを加えたものがほとんどであった。よって、システム全体の技術情報を管理する必要はないようである。
* しかし、IR情報として活用するための技術情報の管理（業者⇆学内関係者）などについては実施している大学は少ない。よって、IR活用の観点から、業務システム技術情報の管理とそのポイントを明らかにすることを研究の焦点とすることにした。
* IR担当者が情報技術にあかるくても、業務システムの担当者はそうではないことが多い。よって、技術情報の管理といっても、その重要性や内容が担当者の間で十分に理解されているとは言い難い。
* 技術情報を共有するための表現方法や言語が統一されていない。そのため、同じ大学内でも担当者が持つスキルの度合いにより、必要十分な技術情報が管理できていない。これは、関連する業務プロセスのフローについても、同じ状況がいえる。

大学内の業務システムとIRの連携では、IRが要求するデータの仕様を提供元へどれくらい正確に示せるかが重要である。業務システムを運用管理する者とIRを担当する者で、要求データの仕様として、次の3つを明らかにする必要がある。

* 業務システムのデータベースにおけるテーブル等の「定義情報」
* DWなどの構築に必要な「技術情報」
* 具体的なこれらの「表現方法・共有方法」

ただし、業務システムを運用管理している者が、必ずしも情報技術に詳しい者であるとは限らないことに注意しなければならない。



# サーバの準備

## 始め方

このリポジトリは, docker, docker-compose を使って nginx, growi, redmine, jupyterhub を構築するための設定例です.

## 事前準備

### docker, docker-compose のインストール

公式のガイドラインに従ってください.

[docker](https://docs.docker.com/get-docker/)
[docker-compose](https://docs.docker.com/compose/install/)
[proxy](https://docs.docker.com/config/daemon/systemd/#httphttps-proxy)

docker を sudo つけずに実行できるようにする場合の[参照](https://docs.docker.com/engine/install/linux-postinstall/)

### firewall の設定

サイトを公開するためのポート開放には`ufw`を使います. (20番を有効にせずセッションを切ると ssh接続ができなくなるので注意が必要です)

```bash
ufw allow 20
ufw allow 80
ufw allow 465
ufw allow 8080
```

変更した後は

```bash
ufw reload
```

`Status: inactive` と出る場合はまず以下を実行してください.

```bash
ufw enable
```

### 起動方法

`proxy`が全てのアプリケーションに依存しているので一番最後に起動する必要があります.
起動方法は以下です. それぞれの`README.md`も参照してください.

起動 (`docker-compose.yml`の変更を反映させる)

```bash
docker-compose up -d
```

停止

```bash
docker-compose stop
```

再起動

```bash
docker-compose restart
```

環境をリセットする (コンテナ・ネットワーク・ボリューム・イメージを削除する)

```bash
docker-compose down
```

`tmux`がサーバーで使える場合に2回目の起動からは`tmux`のセッションに入った後

```bash
./start
```

で全てを起動することができます.
